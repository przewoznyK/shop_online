{% extends 'base.html.twig' %}

{% block title %}Register
{% endblock %}

{% block body %}
	<div class='container border mx-auto mt-5' style="max-width: 50%;">
		<div class="row">
			<div class='col-sm-10 col-md-8 my-5 mx-auto'>
				{% if app.session.get('account_deleted')  %}
					<div class="alert alert-danger">
						{{ app.session.get('account_deleted') }}
						{{ app.session.clear() }}
					</div>
				{% endif %}


				{% if app.user %}
					<div class="mb-3">
						You are logged in as
						{{ app.user.userIdentifier }},
						<a href="{{ path('app_logout') }}">Logout</a>
					</div>
				{% endif %}

				<h1 class="h3 mb-3 font-weight-normal">Register</h1>

				{{ form_start(registrationForm) }}
				{{ form_row(registrationForm.username,  {'attr': {'class': 'form-control'}}) }}
				{{ form_row(registrationForm.email, {'attr': {'class': 'form-control'}}) }}
				{{ form_row(registrationForm.plainPassword, {
                            label: 'Password',
                            label: 'Confirm Password'
                        }) }}
				{{ form_row(registrationForm.agreeTerms, {'attr': {'class': 'form-check-input mx-2'}}) }}
				<button class="btn btn-primary mt-3 w-100" type="submit">
					Register
				</button>
				<div class='text-center mt-2'>Or</div>
				<a href="{{ path('app_login') }}">
					<div class="btn btn-success mt-2 w-100">
						Login
					</div>
				</a>
				{{ form_end(registrationForm) }}


			</div>
		</div>
	</div>


{% endblock %}
